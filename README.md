# profi_auth_with_roles_nodejs

Цей проєкт — реалізація системи аутентифікації та авторизації з ролями на Node.js за однією з навчальних відео-лекцій.

## ​ Структура проєкту

- `index.js` — точка входу, налаштовує Express і маршрути.
- `config.js` — містить конфігурацію (наприклад, `secret` для JWT).
- `authRouter.js` — Express-роутер для аутентифікації (реєстрація, логін тощо).
- `authController.js` — обробка запитів (реєстрація, логін, захист маршрутів).
- `models/` — папка з Mongoose-моделями (як-от `User`, можливо `Role`).
- `.gitignore`, `package.json`, `package-lock.json` — стандартні конфіги для npm.

##  Запуск

1. Клонувати репозиторій:
   ```bash
   git clone https://github.com/utimur/profi_auth_with_roles_nodejs.git
   cd profi_auth_with_roles_nodejs
2. Встановити залежності:

bash
Копіювати
Редагувати
npm install

3. Створити .env файл або аналог із налаштуваннями, наприклад:

ini
Копіювати
Редагувати
PORT=5000
MONGODB_URI=твій_URI_до_бази
JWT_SECRET=твоє_секретне_ключове_слово

4. Запустити сервер:

bash
Копіювати
Редагувати
npm start
Основний функціонал
Реєстрація — створення нового користувача.

Логін — перевірка логіну/пароля, видача JWT.

Middleware для авторизації — перевірка токена і визначення ролі, з можливістю пропуску OPTIONS (що необхідно, наприклад, для CORS-preflight) 
Stack Overflow на русском
.

Захист маршрутів — доступ тільки аутентифікованим користувачам або з певними ролями.

Як працює його OPTIONS-middleware
js
Копіювати
Редагувати
if (req.method === 'OPTIONS') {
  next();
}
Цей код пропускає обробку авторизації для HTTP-методу OPTIONS, що часто використовується браузером як «preflight»-запит перед CORS-операцією — авторизація тут не потрібна 
Stack Overflow на русском
.
